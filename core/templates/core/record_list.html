{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHIME | Transactions </title>
</head>

<body>
    <!doctype html>
    <html class="no-js" lang="en" dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>::CHIME:: Dashboard </title>
        <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Favicon-->

        <!-- plugin css file  -->
        <link rel="stylesheet" href="{% static 'plugin/datatables/responsive.dataTables.min.css' %}">
        <link rel="stylesheet" href="{% static 'plugin/datatables/dataTables.bootstrap5.min.css' %}">

        <!-- project css file  -->
        <link rel="stylesheet" href="{% static 'css/ebazar.style.min.css' %}">
    </head>

    <body>
        <div id="ebazar-layout" class="theme-blue">

            <!-- main body area -->
            <div class="main px-lg-4 px-md-4">


                <!-- Body: Body -->
                <!-- Body: Body -->
                <div class="body d-flex py-3">
                    <div class="container-xxl">
                        <div class="row align-items-center">
                            <div class="border-0 mb-4">
                                <div
                                    class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
                                    <a href="{% url 'core:authentication:login' %}">
                                        <button class="btn btn-primary">Take Me Home</button>
                                    </a>
                                    <h3 class="fw-bold mb-0 ms-3">Records</h3>
                                </div>
                            </div>
                        </div>
                    </div> <!-- Row end  -->

                    <div class="row g-3 mb-3">
                        <div class="col-xl-12 col-xxl-12">
                            <div class="card">
                                <div
                                    class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0">
                                    <h6 class="mb-0 fw-bold ">blocks</h6>
                                </div>
                                {% if object_list.count > 0 %}
                                <div class="card-body">
                                    <div class="product-cart">
                                        <div class="checkout-table table-responsive">
                                            <table id="myCartTable"
                                                class="table display dataTable table-hover align-middle"
                                                style="width:100%">
                                                <thead>
                                                    <tr>
                                                        <th>id</th>
                                                        <th>Action</th>
                                                        <th>Ref Id</th>
                                                        <th>Origin</th>
                                                        <th>timestamp</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for object in object_list.reverse %}
                                                    <tr>
                                                        <td>
                                                            <img src="{% static 'images/product/product-1.jpg' %}"
                                                                class="avatar rounded lg" alt="Product">
                                                            {{ object.id }}
                                                        </td>
                                                        <td>
                                                            {{ object.action }}
                                                        </td>
                                                        <td>
                                                            {{ object.ref_id }}
                                                        </td>
                                                        <td>
                                                            {{ object.record_type }}
                                                        </td>
                                                        <td>
                                                            {{ object.created_at }}
                                                        </td>
                                                        <td>
                                                            <a
                                                                href="{% url 'core:record_detail' object.record_type object.ref_id object.get_action_display %}">
                                                                <button class="btn btn-primary">view</button>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                {% else %}
                                <div class="p-3">
                                    <p>No record found</p>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div> <!-- Row end  -->
                </div>
            </div>
        </div>
        </div>

        <!-- Insert Additional Template Scripts Here -->
        {% block script %}{% endblock script %}

        <!-- Jquery Core Js -->
        <script src="{% static 'bundles/libscripts.bundle.js' %}"></script>

        <!-- Plugin Js -->
        <script src="{% static 'bundles/apexcharts.bundle.js' %}"></script>
        <script src="{% static 'bundles/dataTables.bundle.js' %}"></script>

        <!-- Jquery Page Js -->
        <script src="{% static 'js/template.js' %}"></script>
        <script src="{% static 'js/page/index.js' %}"></script>
        <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB1Jr7axGGkwvHRnNfoOzoVRFV3yOPHJEU&callback=myMap"></script>
        <script>
            $('#myDataTable')
                .addClass('nowrap')
                .dataTable({
                    responsive: true,
                    columnDefs: [
                        { targets: [-1, -3], className: 'dt-body-right' }
                    ]
                });
        </script>
    </body>

    </html>